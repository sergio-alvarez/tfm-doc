<!DOCTYPE html>
<html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geolocalización de usuarios en medios sociales mediante análisis de contenidos</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
</head>
<body class="article">
<div id="header">
<h1>Geolocalización de usuarios en medios sociales mediante análisis de contenidos</h1>
<span id="author" class="author">Sergio Álvarez Suárez</span><br>
<span id="email" class="email"><a href="mailto:sergioalvarezsuarez@gmail.com">sergioalvarezsuarez@gmail.com</a></span><br>
<div id="toc" class="toc">
<div id="toctitle">Tabla de Contenidos</div>
<ul class="sectlevel1">
<li><a href="#_introducci_n">1. Introducción</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_motivaci_n_del_proyecto">1.1. Motivación del proyecto</a></li>
<li><a href="#_alcance">1.2. Alcance</a></li>
<li><a href="#_estado_del_arte">1.3. Estado del arte</a></li>
<li><a href="#_aspectos_te_ricos">1.4. Aspectos teóricos</a></li>
</ul>
</li>
<li><a href="#_planificaci_n_y_gesti_n_del_proyecto">2. Planificación y gestión del proyecto</a></li>
<li><a href="#_an_lisis_del_sistema">3. Análisis del sistema</a></li>
<li><a href="#_desarrollo_e_implementaci_n_del_sistema">4. Desarrollo e implementación del sistema</a></li>
<li><a href="#_falcon_sistema_para_coleccionar_datos_de_la_api_streaming_de_twitter">Appendix A: Falcon, sistema para coleccionar datos de la API Streaming de Twitter</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_almacenamiento_de_datos">Almacenamiento de datos</a></li>
<li><a href="#_par_metros_del_sistema">Parámetros del sistema</a></li>
<li><a href="#_ejemplo_de_resultados">Ejemplo de resultados</a></li>
</ul>
</li>
<li><a href="#_b2pick_aplicaci_n_web_para_obtener_em_bounding_boxes_em">Appendix B: b2pick, aplicación web para obtener <em>bounding boxes</em></a></li>
<li><a href="#_puma_sistema_de_an_lisis_de_datos">Appendix C: Puma, sistema de análisis de datos</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#__qu_datos_se_deben_estudiar">¿Qué datos se deben estudiar?</a></li>
<li><a href="#_sistema_de_filtros">Sistema de filtros</a></li>
<li><a href="#_likelihood_ratio_test_y_likelihood_ratio_test_normalizado">Likelihood-ratio test y Likelihood-ratio test normalizado</a></li>
<li><a href="#_algoritmo_de_poda_y_control_del_uso_de_memoria">Algoritmo de poda y control del uso de memoria</a></li>
<li><a href="#_generaci_n_de_puntuaciones">Generación de puntuaciones</a></li>
<li><a href="#_caso_de_uso_y_flujo_completo_del_sistema_de_an_lisis">Caso de uso y flujo completo del sistema de análisis</a></li>
<li><a href="#_configuraci_n_del_sistema">Configuración del sistema</a></li>
</ul>
</li>
<li><a href="#_tweetheat_mapa_de_calor_sobre_ficheros_tsv_de_puntuaci_n">Appendix D: TweetHeat, mapa de calor sobre ficheros TSV de puntuación</a></li>
<li><a href="#_entrenamiento_del_modelo_de_an_lisis_de_datos">Appendix E: Entrenamiento del modelo de análisis de datos.</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_normalizaci_n_de_datos">Normalización de datos</a></li>
<li><a href="#_divisi_n_de_datos_en_conjuntos_de_entrenamiento_y_test">División de datos en conjuntos de entrenamiento y test</a></li>
<li><a href="#_estudio_de_los_primeros_resultados_y_cambio_de_estrategia">Estudio de los primeros resultados y cambio de estrategia</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introducci_n">1. Introducción</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_motivaci_n_del_proyecto">1.1. Motivación del proyecto</h3>
<div class="paragraph">
<p>Aquí la motivación del proyecto</p>
</div>
</div>
<div class="sect2">
<h3 id="_alcance">1.2. Alcance</h3>
<div class="paragraph">
<p>Aquí el alcance del proyecto.</p>
</div>
</div>
<div class="sect2">
<h3 id="_estado_del_arte">1.3. Estado del arte</h3>
<div class="paragraph">
<p>El crecimiento exponencial de las redes sociales durante los últimos años ha despertado un gran interés en los diferentes ámbitos de la informática, siendo un claro objetivo comercial para profesionales del sector, así como un nuevo campo de investigación para los investigadores universitarios.</p>
</div>
<div class="paragraph">
<p>Como consecuencia de todo ello, durante los últimos años han ido apareciendo diversas aplicaciones que, de una u otra manera, se centran en estudiar ciertos aspectos de las redes sociales para poder extraer información acerca de sus usuarios gracias a las diversas publicaciones que estos mismos realizan en sus perfiles.</p>
</div>
<div class="paragraph">
<p>El estudio de la geolocalización de un usuario a partir de su contenido, sin embargo, es una de las pocas áreas que <em>tan sólo</em> agrupa un pequeño número de estudios teóricos, pero en donde no han proliferado herramientas que comprueben de manera empírica los resultados teóricos emitidos por diversos investigadores.</p>
</div>
<div class="paragraph">
<p>Por ello, en este capítulo se recopilan algunos estudios teóricos y artículos de investigación que han servido como punto de arranque para este proyecto, así como algunas aplicaciones que comparten características similares.</p>
</div>
<div class="sect3">
<h4 id="_estudios_y_art_culos_de_investigaci_n">1.3.1. Estudios y artículos de investigación</h4>
<div class="sect4">
<h5 id="_tweets_from_justin_bieber_s_heart_the_dynamics_of_the_location_field_in_user_profiles">Tweets from Justin Bieber’s Heart: The Dynamics of the "Location" Field in User Profiles</h5>
<div class="paragraph">
<p><em>Por Brent Hecht et al. Northwestern University y Palo Alto Research Center</em></p>
</div>
<div class="paragraph">
<p>El estudio liderado por Brent Hecht demuestra de manera científica como el uso del campo de Localización disponible en los perfiles de los usuarios en Twitter no es un indicador válido para obtener su posición geográfica real.</p>
</div>
<div class="paragraph">
<p>Entre los datos obtenidos por Brent y su equipo se pueden destacar los siguientes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sólo un 66% de los usuarios utiliza el campo de Localización para aportar información geográfica válida (es decir, localizaciones reales pero que <strong>no tienen porqué indicar su situación real</strong>. Por ejemplo, si una persona de <strong>Oviedo</strong> escribe <strong>California</strong> en el campo de Localización de su perfil, este estudio lo incluye dentro del 66% anterior).</p>
</li>
<li>
<p>Algunos de los usos que los usuarios dentro del 34% restante aplican al campo de Localización se puede observar en <a href="#location-use-type">Tipos de uso del campo de Localización por parte de los usuarios de Twitter</a>.</p>
</li>
<li>
<p>La manera de distinguir entre localización real y ficticia supuso de un proceso manual en el que dos miembros del equipo debieron revisar tuit a tuit el campo de Localización, debido a la habilidad de los usuarios para poder expresar sarcasmo o ironía, así como expresiones comunes que pueden tener asociado un componente geográfico inherente (un ejemplo puede ser referirse al Principado de Asturias como <em>la tierrina</em>).</p>
</li>
</ol>
</div>
<table id="location-use-type" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 1. Tipos de uso del campo de Localización por parte de los usuarios de Twitter</caption>
<colgroup>
<col style="width:75%;">
<col style="width:25%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cultura popular</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.9%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Referencias a su propia privacidad</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insultos o contenido violento</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.6%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Localizaciones no terráqueas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Emociones negativas hacia su localización real</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.2%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Naturaleza sexual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.2%</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Como alternativa a los resultados anteriores, y buscando una manera de automatizar el proceso y encontrar resultados más fiables y exhaustivos, se propusieron hacer un primer experimento para comprobar si el estudio de los contenidos publicados por un usuario pueden aportar la información necesaria para permitir inferir su ubicación geográfica.</p>
</div>
<div class="paragraph">
<p>Para ello, utilizaron un software de aprendizaje automático y un clasificador Bayesiano multinomial que en base a un conjunto de datos obtenidos a partir de aplicar el algoritmo <em>CALGARI</em> (de implementación propia), fuese capaz de predecir a qué área (País y Estado) pertenece un tuit en base a su contenido.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">CALGARI</div>
<div class="paragraph">
<p>El algoritmo CALGARI tiene como objetivo normalizar la frecuencia con la que un término ha aparecido dentro de un dataset de tuits para priorizar aquellas que son más específicas de un área (ciudad o estado) en concreto.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Entre los resultados ofrecidos por el estudio destacan un <strong>72.7% de acierto para inferir el país</strong> de un usuario pero tan <strong>sólo un 30% de acierto a nivel de estado</strong>.</p>
</div>
<div class="paragraph">
<p>Como apunte adicional, es interesante una afirmación que se enuncia en el artículo cuando se hace referencia al nuevo campo de localización que la API Streaming de Twitter ofrece para adjuntar información geolocalizada (siempre que el usuario lo permita):</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="literalblock">
<div class="content">
<pre>First, our focus is on the geographic information revealed in the “location” field of user profiles, a type of geographic information that is prevalent across the Web 2.0 world. Second, we found that only 0.77% of our 62 million tweets contained this embedded location information.</pre>
</div>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>De 62 millones de tuits, únicamente un 0.77% (~= 477.400) contenían información geográfica adjunta.</p>
</div>
</div>
<div class="sect4">
<h5 id="_where_is_this_tweet_from_inferring_home_locations_of_twitter_users">Where Is This Tweet From? Inferring Home Locations of Twitter Users</h5>
<div class="paragraph">
<p><em>Por Jalal Mahmud et al. IBM Research</em></p>
</div>
<div class="paragraph">
<p>Con el objetivo de poder identificar un tuit a diferentes granularidades: ciudad o estado, el estudio plantea la posibilidad de analizar tres tipos de términos diferentes para localizar una publicación en Twitter:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Palabras</p>
</li>
<li>
<p>Hashtags</p>
</li>
<li>
<p>Nombres de lugares (utilizando un gazetteer<span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span> geográfico)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Es interesante observar como empiezan a aparecer pequeñas diferencias entre términos, considerando que en función de su categoría, pueden ofrecer más o menos información geográfica. Esta misma estrategia será también utilizada en el presente proyecto, mediante la extracción de Hashtags, Menciones y N-gramas.</p>
</div>
<div class="paragraph">
<p>Con el objetivo de minimizar la aparición de ruido, normalizaron el contenido de cada tuit eliminando signos de puntuación (a excepción de aquellos que indican una entidad propia cuando se encuentran al principio de una palabra, como <code>#</code> para indicar <em>hashtags</em> o <code>@</code> para indicar <em>menciones</em>) y palabras vacías.</p>
</div>
<div class="paragraph">
<p>También en este estudio se hace mención a la utilización de un <strong>software de aprendizaje automático</strong>, en este caso WEKA, y su conjunción con un modelo estadístico que realice los cálculos necesarios para el clasificador. El modelo que seleccionaron de manera empírica fue un clasificador Bayesiano multinomial.</p>
</div>
<div class="paragraph">
<p>La estrategia propuesta en este trabajo para inferir la localización de un usuario en Twitter fue:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A lo largo de sus tuits, mencionará más veces su ciudad o estado de origen que el resto de ciudades o estados.</p>
</li>
<li>
<p>Visitará más lugares de su ciudad o estado de origen que del resto de ciudades o estados (para detectar este tipo de visitas, se guardan todas las URLs generadas a partir de check-ins compartidos a través de <strong>Foursquare</strong> para luego comprobar su información asociada através de la propia API de Foursquare).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Los resultados presentados a nivel de ciudad no fueron realmente positivos, y sólo presentan niveles de precisión superiores al 70% cuando se permiten márgenes de error superiores a 200 millas.</p>
</div>
<div class="paragraph">
<p>Se presenta como incógnita como actúa realmente el algoritmo cuando se trabajan con usuarios que no tienen contenido generado por Foursquare o no hacen una referencia explícita a su ciudad, estado o país.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tweolocator_a_non_intrusive_geographical_locator_system_for_twitter">TweoLocator: A Non-Intrusive Geographical Locator System for Twitter</h5>
<div class="paragraph">
<p><em>Por Yi-Shin Chen et al. National Tsing Hua University</em></p>
</div>
<div class="paragraph">
<p>En este estudio, Yi-Shin Chen propone un sistema denominado <strong>TweoLocator</strong> que funciona como un <em>framework</em> el cual, a través de diferentes etapas, asegura ofrecer unos resultados altamente fiables acerca de la localización de un usuario en Twitter.</p>
</div>
<div class="paragraph">
<p>Este paper ofrece el interesante concepto de n-gramas, que será utilizado en el presente proyecto como una de las estrategias para la detección de términos con posibilidad de ofrecer contenido geolocalizable.</p>
</div>
</div>
<div class="sect4">
<h5 id="_a_multi_indicator_approach_for_geolocalization_of_tweets">A Multi-Indicator Approach for Geolocalization of Tweets</h5>
<div class="paragraph">
<p><em>Por Axel Schulz et al. SAP Research</em></p>
</div>
<div class="paragraph">
<p>Presenta un sistema muy interesante mediante la utilización de formas poligonales en 3D para decidir la localización de un tuit y usuario. Cada polígono tiene dos valores de calidad en base al indicador que los define. Los polígonos se superponen, y la intersección de mayor altura es el área con más probabilidades de contener el tuit analizado.</p>
</div>
<div class="paragraph">
<p>Para obtener la información de cada tuit, utiliza varios sistemas como la <strong>DBPedia</strong> (<a href="http://dbpedia.org/">http://dbpedia.org/</a>) o <strong>Foursquare</strong> (<a href="https://es.foursquare.com/">https://es.foursquare.com/</a>) para reconocer entidades y topónimos. Su dependencia de sistemas externos impide que sea capaz de deducir una localización a través del contexto si esta no contiene ninguna referencia a una entidad localizable.</p>
</div>
</div>
<div class="sect4">
<h5 id="_inferring_the_origin_locations_of_tweets_with_quantitative_confidence">Inferring the Origin Locations of Tweets with Quantitative Confidence</h5>
<div class="paragraph">
<p><em>Por Reid Priedhorsky et al. Los Alamos National Laboratory y Northeastern Illinois University</em></p>
</div>
<div class="paragraph">
<p>Este nuevo estudio presenta otra estrategia para encontrar términos fuertemente localizados en base al uso de <em>n-gramas</em>. Para ello, los investigadores se centraron en extraer bigramas de los siguientes campos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Campo de Localización</p>
</li>
<li>
<p>Contenido del tuit</p>
</li>
<li>
<p>Zona horaria</p>
</li>
<li>
<p>Idioma seleccionado en el perfil del usuario</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A su vez, desarrollaron un modelo estadístico propio, basado en un clasificador Gaussiano, el cual aplicaban sobre aquellos bigramas que superaban un número mínimo de apariciones.</p>
</div>
</div>
<div class="sect4">
<h5 id="_otros_em_papers_em_de_inter_s">Otros <em>papers</em> de interés</h5>
<div class="ulist">
<ul>
<li>
<p><strong>You Are Where You Tweet: A Content-Based Approach to Geo-locating Twitter Users</strong> <em>por Zhiyuan Cheng et al. Texas A&amp;M University</em></p>
</li>
<li>
<p><strong>Location Type Classification Using Tweet Content</strong> <em>por Haibin Liu et al. The Pennsylvania State University</em></p>
</li>
<li>
<p><strong>TweetLocalize: Inferring Author Location in Social Media</strong> <em>por Evan Sparks et al. University of California-Berkeley</em></p>
</li>
<li>
<p><strong>Inferring the Location of Twitter Messages Based on User Relationships</strong> <em>por Clodoveu A. Davis Jr. et al. Universidade Federal de Minas Gerais</em></p>
</li>
<li>
<p><strong>Geolocation Prediction in Social Media Data by Finding Location Indicative Words</strong> <em>por HAN Bo et al. University of Melbourne</em></p>
</li>
<li>
<p><strong>Home Location Identification of Twitter Users</strong> <em>por Jalal Mahmud et al. IBM Research</em></p>
</li>
<li>
<p><strong>Geotagging One Hundred Million Twitter Accounts with Total Variation Minimization</strong> <em>por Ryan Compton et al. HRL Laboratories (Malibu)</em></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_aplicaciones_web">1.3.2. Aplicaciones web</h4>
<div class="paragraph">
<p>A continuación, se recopilan algunas aplicaciones con características similares a las del presente proyecto, y otras que, sin centrarse en el estudio de la geolocalización del contenido de manera específica, utilizan <strong>Twitter</strong> como fuente de información y realizan un estudio a gran escala sobre las publicaciones realizadas.</p>
</div>
<div class="sect4">
<h5 id="_trendsmap">Trendsmap</h5>
<div class="paragraph">
<p><strong>Trendsmap</strong> (<a href="http://trendsmap.com/">http://trendsmap.com/</a>) es una aplicación web que muestra en tiempo real las tendencias en Twitter para cada localización a escala mundial. Según datos ofrecidos por la propia web en su página de <em>FAQ</em>, gestionan un volumen de tuits del orden de <strong>80 millones al día</strong>.</p>
</div>
<div class="paragraph">
<p>Su objetivo principal consiste, por tanto, en localizar las tendencias específicas de cada localización, sin ofrecer ninguna información acerca de las posibilidades de que uno u otro tuit que contengan dicha tendencia puedan pertenecer a una localización en concreto.</p>
</div>
<div class="paragraph">
<p>No se ha podido encontrar ninguna información acerca del tipo de algoritmo que utiliza Trendsmap para determinar la localización de un tuit (en pos de poder determinar la tendencia para un alto número de los mismos).</p>
</div>
</div>
<div class="sect4">
<h5 id="_what_the_trend">What the Trend</h5>
<div class="paragraph">
<p><strong>What the Trend</strong> (<a href="http://whatthetrend.com/faq">http://whatthetrend.com/faq</a>) se centra en ofrecer al usuario una explicación acerca de los propios <em>Trending Topics</em> identificados por Twitter para cada localidad.</p>
</div>
<div class="paragraph">
<p>En este caso, la aplicación no incluye ningún tipo de algoritmo para adivinar la localidad de un volumen de tuits, si no que únicamente recoge las tendencias previamente analizadas y localizadas por Twitter.</p>
</div>
</div>
<div class="sect4">
<h5 id="_klout">Klout</h5>
<div class="paragraph">
<p><strong>Klout</strong> (<a href="http://klout.com/home">http://klout.com/home</a>) se describe como un servicio capaz de obtener la influencia de un usuario en la red a través de sus publicaciones y relaciones en redes sociales. Durante sus primeros años fue objetivo de varias inversiones millonarias que sacaron a la luz la gran importancia que tiene a nivel empresaria el análisis de los grandes volúmenes de información que se generan a diario en las redes sociales por parte de los propios usuarios.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_aspectos_te_ricos">1.4. Aspectos teóricos</h3>
<div class="paragraph">
<p>Aquí los aspectos teóricos.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_planificaci_n_y_gesti_n_del_proyecto">2. Planificación y gestión del proyecto</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_an_lisis_del_sistema">3. Análisis del sistema</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_desarrollo_e_implementaci_n_del_sistema">4. Desarrollo e implementación del sistema</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_falcon_sistema_para_coleccionar_datos_de_la_api_streaming_de_twitter">Appendix A: Falcon, sistema para coleccionar datos de la API Streaming de Twitter</h2>
<div class="sectionbody">
<div class="paragraph">
<p>El primer paso en el desarrollo del proyecto, fue la creación de un sistema capaz de recolectar tuits con el objetivo de obtener material de entrenamiento sobre el que aplicar las diferentes estrategias planteadas.</p>
</div>
<div class="paragraph">
<p>Este sistema debía ser parametrizable, con el objetivo de poder configurar en cada ejecución el tipo de tuits que se querían obtener. En base a estos requisitos, se utilizó la <strong>API Streaming de Twitter</strong> (<a href="https://dev.twitter.com/docs/api/streaming">https://dev.twitter.com/docs/api/streaming</a>), la cual aporta dos características principales:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Capacidad de obtener datos en tiempo real de Twitter de manera ininterrumpida</p>
</li>
<li>
<p>Capacidad de establecer filtros sobre el flujo de entrada:</p>
<div class="ulist">
<ul>
<li>
<p>Filtro por idioma del tuit</p>
</li>
<li>
<p>Filtro por localización del tuit (mediante el uso de <em>bounding boxes</em>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para realizar la conexión entre el sistema desarrollado y la API de Twitter se utilizó la biblioteca <strong>Twitter4j</strong> (<a href="http://twitter4j.org/en/index.html">http://twitter4j.org/en/index.html</a>), la cual aunque originalmente está desarrollada para ser utilizada sobre Java, es perfectamente utilizable en Scala gracias a la compatibilidad entre ambos lenguajes mediante la Java Virtual Machine. La ventajas de utilizar una biblioteca construida sobre la API original de Twitter es que algunos de los problemas más habituales se solucionan a través de nuevas capas de abstracción:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Autenticación OAuth2 simplificada mediante clases propias de la biblioteca</p>
</li>
<li>
<p>La API de Twitter4J para utilizar el Streaming de Twitter permite aislar al desarrollador de la necesidad de mantener activa la comunicación HTTP manualmente para estar conectado al Streaming de Twitter.</p>
</li>
</ol>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../assets/05development/twitter-streaming-api.png" alt="Modelo de comunicación entre un cliente y la API Streaming de Twitter">
</div>
<div class="title">Figure 1. Comunicación entre un cliente y la API Streaming de Twitter (<a href="https://dev.twitter.com/docs/api/streaming">https://dev.twitter.com/docs/api/streaming</a>)</div>
</div>
<div class="sect2">
<h3 id="_almacenamiento_de_datos">Almacenamiento de datos</h3>
<div class="paragraph">
<p>Uno de los puntos más importantes que planteó el sistema para recolectar tuits era en qué formato sería más adecuado serializar los datos obtenidos.</p>
</div>
<div class="paragraph">
<p>En un primer momento se barajó la posibilidad de utilizar el formato CSV, el cual permitiría acceder de manera rápida al número de tuits guardados y realizar operaciones sencillas en línea de comandos mediante operaciones <code>grep</code>. Esta decisión fue cancelada al realizar los primeros experimentos y comprobar como el guardado de ciertos datos en formato CSV presenta muchas dificultades para poder solventar todos los casos esquina que se presentan con la aparición de contenido complejo que pueda incluir comas, comillas y otros signos de puntuación (aún en el caso de utilizar bibliotecas especializadas como OpenCSV - <a href="http://opencsv.sourceforge.net/">http://opencsv.sourceforge.net/</a> ) combinados con caracteres extraños como Emoji (<a href="http://www.unicode.org/faq/emoji_dingbats.html">http://www.unicode.org/faq/emoji_dingbats.html</a>).</p>
</div>
<div class="paragraph">
<p>Como consecuencia de los resultados anteriores, y apoyado en el soporte nativo ofrecido por Scala, se utilizó XML como el lenguaje de marcado que mejor podría serializar y estructurar los datos obtenidos a través de Twitter4j. El siguiente fragmento de código permite ver lo sencillo que es serializar un objeto en Scala a XML mediante la utilización de literales:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="scala language-scala">class Tweet(id:String, username: String, name:String, location: String, timezone: String, createdAt:String, latitude: String,
            longitude: String, text: String) {
  def toXML =
    &lt;tweet&gt;
      &lt;id&gt;
        {id}
      &lt;/id&gt;
      &lt;username&gt;
        {username}
      &lt;/username&gt;
      &lt;name&gt;
        {name}
      &lt;/name&gt;
      &lt;location&gt;
        {location}
      &lt;/location&gt;
      &lt;timezone&gt;
        {timezone}
      &lt;/timezone&gt;
      &lt;createdAt&gt;
        {createdAt}
      &lt;/createdAt&gt;
      &lt;latitude&gt;
        {latitude}
      &lt;/latitude&gt;
      &lt;longitude&gt;
        {longitude}
      &lt;/longitude&gt;
      &lt;text&gt;
        {text}
      &lt;/text&gt;
    &lt;/tweet&gt;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_par_metros_del_sistema">Parámetros del sistema</h3>
<div class="paragraph">
<p>Debido a que Falcon es un sistema sin ánimo de ejecutarse a través de una GUI, la manera de parametrizar la ejecución ha sido a través de una interfaz de línea de comandos. Para ello, se ha utilizado la biblioteca <strong>scopt</strong> (<a href="https://github.com/scopt/scopt">https://github.com/scopt/scopt</a>).</p>
</div>
<div class="paragraph">
<p>scopt permite parsear de manera sencilla los argumentos que se le pasan al programa en el momento de su ejecución. Para ello, simplemente hay que definir un objeto <code>ScoptParser</code> que contenga las reglas necesarias para especificar qué parámetros se esperan, qué tipo deben tener (<code>String</code>, <code>Integer</code>, <code>Boolean</code>) y si son requeridos u opcionales.</p>
</div>
<div class="paragraph">
<p>A continuación se muestra el <em>usage</em> de la aplicación:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Falcon 1.0
Usage: Falcon [options]

  -l &lt;value&gt; | --language &lt;value&gt;
        Specifies the language, in ISO 639-1 format, for the tweets to collect.
  -s &lt;value&gt; | --stopwords &lt;value&gt;
        Specifies the file for the stopwords.
  -t &lt;value&gt; | --time-in &lt;value&gt;
        The time measure for collecting tweets (SECONDS, MINUTES, HOURS, DAYS).
  -n &lt;value&gt; | --timestamp &lt;value&gt;
        Units of time for collecting tweets.
  -o &lt;value&gt; | --output &lt;value&gt;
        The output filename where store the collection results.
  -c &lt;value&gt; | --credentials &lt;value&gt;
        Properties file with the Twitter credentials
  --coordinates-mandatory
        This flag indicates whether every tweet must have a geolocation tag associated or not.
  -b &lt;value&gt; | --bounding-boxes &lt;value&gt;
        Specifies the file which contains the bounding boxes.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--time-in</code> y <code>--timestamp</code>: permiten establecer al recolector un tiempo de ejecución representado en diferentes magnitudes.</p>
</li>
<li>
<p><code>--output</code>: nombre del fichero de salida.</p>
</li>
<li>
<p><code>--coordinates-mandatory</code>: su presencia indica si los tuits recolectados deben contener o no información geográfica adjunta.</p>
</li>
<li>
<p><code>--language</code>: idioma en el que se desean obtener los tuits.</p>
</li>
<li>
<p><code>--stopwords</code>: debido a restricciones de Twitter, es necesario proveer una lista de términos cuando se intenta realizar un filtrado por idioma. Con el objetivo de restringir lo mínimo posible el número de tuits a obtener, se provee una lista de <em>stop words</em> del idioma por el que se esté filtrando.</p>
</li>
<li>
<p><code>--bounding-boxes</code>: opcionalmente, se puede proveer un fichero <code>XML</code> que contiene los <em>bounding boxes</em> sobre los que se realizará el filtrado para aquellas ejecuciones que requieran tuits localizados en un área en concreto.</p>
</li>
<li>
<p><code>--credentials</code>: indica el fichero que contiene las credenciales que se utilizarán para conectarse con la API de Twitter y utilizar su servicio de Streaming.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Un ejemplo de uso para obtener datos en español sobre los bounding boxes de España durante un día, podría ser algo como esto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>falcon.jar -l es -s es_stop_words.txt -t DAYS -n 1 -o es_tweets_collection -c credentials.properties -b spain_bounding_boxes.xml</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ejemplo_de_resultados">Ejemplo de resultados</h3>
<div class="paragraph">
<p>Un ejemplo de los resultados obtenidos por el recolector sería el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="xml language-xml">&lt;tweets&gt;
  &lt;tweet&gt;
    &lt;username&gt;
      gaabriforner
    &lt;/username&gt;
    &lt;location&gt;
      Málaga
    &lt;/location&gt;
    &lt;timezone&gt;
      Athens
    &lt;/timezone&gt;
    &lt;createdAt&gt;
      2014-03-04 21:53
    &lt;/createdAt&gt;
    &lt;latitude&gt;
      -4.437747
    &lt;/latitude&gt;
    &lt;longitude&gt;
      36.7055494
    &lt;/longitude&gt;
    &lt;text&gt;
      y ante todo a echarle fuerza d voluntad y ganas para conseguir lo que quiero!!
    &lt;/text&gt;
  &lt;/tweet&gt;
&lt;/tweets&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="title">Bug en Twitter4j</div>
<div class="paragraph">
<p>En fases posteriores del desarrollo del proyecto salió a la luz un bug por parte de la biblioteca Twitter4j que produce que la latitud y longitud de cada tuit se devuelvan de manera inversa. Por tanto, aquellos valores que se estaban considerando como latitud eran realmente la longitud y viceversa.</p>
</div>
<div class="paragraph">
<p>Este error no tuvo un gran impacto, puesto que fue fácilmente detectable y, una vez sabido, se tomaron las medidas adecuadas para tratar los datos correctamente.</p>
</div>
<div class="paragraph">
<p>A continuación se muestra el enlace donde se hace alusión al bug: <a href="https://groups.google.com/forum/#!topic/twitter4j/Kp-gqzBJIxE">https://groups.google.com/forum/#!topic/twitter4j/Kp-gqzBJIxE</a> el cual está presente tanto para la versión <code>3.0.4-SNAPSHOT</code> como en anteriores versiones.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_b2pick_aplicaci_n_web_para_obtener_em_bounding_boxes_em">Appendix B: b2pick, aplicación web para obtener <em>bounding boxes</em></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_puma_sistema_de_an_lisis_de_datos">Appendix C: Puma, sistema de análisis de datos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para el análisis de los datos recogidos mediante el recolector, fue necesario desarrollar un nuevo sistema preparado para trabajar con grandes volúmenes de datos y capaz de aplicar los algoritmos planteados en estudios anteriores para obtener vocabulario discriminativo. Este sistema fue bautizado con el nombre de <strong>Puma</strong>, como una manera rápida de poder referirse a él.</p>
</div>
<div class="sect2">
<h3 id="__qu_datos_se_deben_estudiar">¿Qué datos se deben estudiar?</h3>
<div class="paragraph">
<p>Con el objetivo de poder encontrar vocabulario discriminativo, se comenzaron a descargar datos, durante 4 semanas, con las siguientes características:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Semana 1</dt>
<dd>
<p>Tuits en español para todo el mundo</p>
</dd>
<dt class="hdlist1">Semana 2</dt>
<dd>
<p>Tuits en español localizados en España</p>
</dd>
<dt class="hdlist1">Semana 3</dt>
<dd>
<p>Tuits en inglés para todo el mundo</p>
</dd>
<dt class="hdlist1">Semana 4</dt>
<dd>
<p>Tuits en inglés localizados en UK</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>La idea será comparar datasets con el mismo idioma pero de distintas localizaciones para obtener, mediante la aplicación de ciertos algoritmos, aquellos vocabularios más geográficamente geolocalizados.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sistema_de_filtros">Sistema de filtros</h3>
<div class="paragraph">
<p>Para poder comenzar a trabajar con los datos recopilados por el sistema Falcon, fue necesario definir qué tipo de información se quería extraer de cada tuit con el objetivo de realizar las operaciones necesarias sobre ella. Se definieron los siguientes términos como los más interesantes para encontrar vocabulario discriminativo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Menciones</p>
</li>
<li>
<p>Hashtags</p>
</li>
<li>
<p>Bigramas</p>
</li>
<li>
<p>Keywords</p>
</li>
<li>
<p>Keywords en el campo de localización del usuario</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Con el objetivo de poder generar un sistema flexible y personalizable, se diseñó un sistema de filtros que permita combinar la extracción de varios filtros por ejecución. Este diseño se basó en una implementación adaptada del patrón Decorator<span class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</span>.</p>
</div>
<div class="paragraph">
<p>Debido a la naturaleza del problema, en este caso no tiene sentido que las operaciones de una extracción se basen en la extracción anterior, por tanto, en esta implementación personalizada, cada extracción se basa en el tuit original y acumula los resultados en una lista común.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../assets/appendixes/extractor-filter.png" alt="Representación del patrón Decorator que ilustra el sistema de filtros">
</div>
<div class="title">Figure 2. Representación del patrón Decorator que ilustra el sistema de filtros</div>
</div>
</div>
<div class="sect2">
<h3 id="_likelihood_ratio_test_y_likelihood_ratio_test_normalizado">Likelihood-ratio test y Likelihood-ratio test normalizado</h3>

</div>
<div class="sect2">
<h3 id="_algoritmo_de_poda_y_control_del_uso_de_memoria">Algoritmo de poda y control del uso de memoria</h3>

</div>
<div class="sect2">
<h3 id="_generaci_n_de_puntuaciones">Generación de puntuaciones</h3>

</div>
<div class="sect2">
<h3 id="_caso_de_uso_y_flujo_completo_del_sistema_de_an_lisis">Caso de uso y flujo completo del sistema de análisis</h3>
<div class="paragraph">
<p>Partiendo de dos conjuntos de datasets (uno global y otro local) con los siguientes tuits de ejemplo (se ha simplificado la estructura de los tuits ajustándolos a aquellas características importantes para ilustrar el ejemplo):</p>
</div>
<div class="paragraph">
<p><strong>LOCAL (ASTURIAS)</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>
username: cris_cerra
name: cristina cerra
location: Ribadesella; Gijón
latitude: -5.6653517
longitude: 43.5279244
tweet: No me disgusta economia de la empresa, pero tampoco entiendo a que fin lo tengo que estudiar yo…  Mas sinsentido imposible…


username: LorenaGS93
name: Lorena González
location: Moreda, Aller
latitude: -5.73753988
longitude: 43.168336
tweet: Conocemos lo que hacemos, pero desconocemos lo que podemos llegar a hacer

username: Luciantomil
name: ∴
location: Oviedo
latitude: -5.8362912
longitude: 43.3740172
tweet: Tanto quejarme de lo de espiar el #Wa y ahora me pasa a mi @LorenaGS93.
</pre>
</div>
</div>
<div class="paragraph">
<p><strong>GLOBAL (ESPAÑA SIN ASTURIAS)</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>
username: elenita9614
name: Elenaa
location: España, Madrid
latitude: -3.6598875
longitude: 40.4746948
tweet: Siempre en el amor hay un poco de locura pero en la locura hay un poco de razón.

username: xtian_herrero
name: Christian Herrero
location: Al sur del sur.
latitude: -5.15107127
longitude: 36.42808127
tweet: Copiando a mi amigo pacojarillo con su asamblea laminar. Me recuerda a #starwars #backlighting @… http://t.co/XQ5GGUrq9X

username: AlisTwittah
name: Ali
location:
latitude: -6.1914368
longitude: 36.4725925
tweet: VIVA EL BETIS
</pre>
</div>
</div>
<div class="paragraph">
<p>El algoritmo encargado de generar LLR recorrería cada uno de los dos ficheros aplicando los siguientes pasos:</p>
</div>
<div class="paragraph">
<p><strong>1.</strong> Para cada entidad Tweet se extraen aquellos términos estipulados por el usuario (Bigramas, Menciones, Hashtags, Keywords o Keywords en el campo de Localización)</p>
</div>
<div class="paragraph">
<p>A continuación se muestran los efectos de aplicar todos los filtros sobre uno de los tweets de prueba:</p>
</div>
<div class="paragraph">
<p><strong>ORIGINAL</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>username: Luciantomil
name: ∴
location: Oviedo
latitude: -5.8362912
longitude: 43.3740172
tweet: Tanto quejarme de lo de espiar el #Wa y ahora me pasa a mi @LorenaGS93.</pre>
</div>
</div>
<div class="paragraph">
<p><strong>PROCESADO</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Menciones: @lorenags93
Hashtags: #wa
Keywords: tanto, quejarme, espiar, ahora, pasa
Bigramas: quejarme tanto, espiar tanto, ahora tanto, pasa tanto, espiar quejarme, ahora quejarme, pasa quejarme, ahora espiar, espiar pasa, ahora pasa
KW en Localización: oviedo</pre>
</div>
</div>
<div class="paragraph">
<p>Como se pueda observar, se aplica una normalización a cada tweet que implica transformar todo el contenido a minúsculas así como aplicar un filtro que elimina stop words o signos de puntuación. En el caso de los Bigramas, además, se realiza una ordenación por orden alfabético.</p>
</div>
<div class="paragraph">
<p><strong>2.</strong> Cada término extraído por tuit, se añade a un Hash que contabiliza su número de apariciones en total para ese dataset. Se ha creado un algoritmo de poda agresiva que permita controlar la cantidad de memoria utilizada por el proceso. Para ello, cuando el número de términos alcanza un umbral (configurado por el usuario) se realiza un truncado de los términos con menos apariciones del Hash en un porcentaje definido por el usuario. Para minimizar el impacto de la poda, se controla cual era la mayor de las frecuencias que tenían los términos que se eliminaron, de esa manera, los nuevos términos empezarán directamente en esa frecuencia mínima.</p>
</div>
<div class="paragraph">
<p><strong>3.</strong> Una vez ambos datasets tienen un Hash de resultados que contiene todos los términos con mayor número de apariciones, es necesario recorrer cada dataset para ver qué frecuencia tienen los términos del dataset local en el dataset global. Un caso que se puede presentar, es que ciertos términos aparezcan en el dataset local y <strong>no</strong> en el global, para ello, se utiliza un algoritmo en el que se buscan todos aquellos términos con la misma frecuencia en el dataset local <strong>pero</strong> que tengan correspondencia también en el dataset global y se calcula su media, aplicando este valor como frecuencia para el término sin correspondencia en el dataset global.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, supongamos que estamos analizando un dataset local geolocalizado en Asturias, y aparece el término <em>escanciar</em> con una frecuencia de 10 apariciones. Después observamos que no existen correspondencia en el dataset global para ese término, por lo que buscamos en el dataset local otros términos con el mismo número de apariciones pero que <strong>sí</strong> tenga frecuencia asignada en el dataset global:</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Término</th>
<th class="tableblock halign-left valign-top">Local</th>
<th class="tableblock halign-left valign-top">Global</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">oviedo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sidra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">culín</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Como resultado, el término <em>escanciar</em> pasaría a tener: <code>(4 + 3 + 5)/3 = 4</code> como valor de frecuencia</p>
</div>
<div class="paragraph">
<p><strong>4.</strong> Para cada par de frecuencias, se aplica el logaritmo del test estadístico denominado: <strong>Likelihood ratio test</strong> (<a href="http://www.itl.nist.gov/div898/handbook/apr/section2/apr233.htm">http://www.itl.nist.gov/div898/handbook/apr/section2/apr233.htm</a>), el cual es capaz de devolver un valor aproximado del impacto que un determinado término tiene sobre el dataset global (indicando si es más o menos discriminativo). El agoritmo utilizado es una implementación normalizada desarrollada por el doctor Daniel Gayo-Avello.</p>
</div>
<div class="paragraph">
<p><strong>5.</strong> Una vez se obtiene el valor LLR para cada término, se guarda en un Hash de resultados que asocia <code>Término -&gt; LLR</code>. Por último, se serializa en un fichero TSV donde cada línea contiene un término concreto y su valor LLR asociado para esa pareja de datasets. Un ejemplo de fichero de salida sería el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>52.096630093774245  principado asturias
57.068998944725266  gracies besin
63.80508052413473   héctor simón
63.80508052413473   asturias oviedo
63.80508052413473   oviedo principado
63.80508052413473   muches besin</pre>
</div>
</div>
<div class="paragraph">
<p>Los valores más positivos indican una mayor discriminación. En este caso, los resultados pertenecen a extraer bigramas sobre un conjunto de datasets entre los que se quería sacar los términos más discriminativos para la provincia de Asturias (a fecha de 17 de Mayo de 2014).</p>
</div>
<div class="paragraph">
<p><strong>6.</strong> Una vez con estos resultados, lo habitual es poner a descargar otras 24h de tuits de acuerdo al área global específicada y, después, recorrer los nuevos tuits obtenidos uno a uno para extraer todos sus términos y comprobar que puntuación LLR asignada tienen en los ficheros TSV generados en la versión anterior. De acuerdo al extracto de puntuaciones anterior, un tuit como el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Estoy con Héctor y Simón en Parque Principado de Oviedo. Tenía muches ganas de verlos. 1 besin.</pre>
</div>
</div>
<div class="paragraph">
<p>Tendría la siguiente puntuación:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>63.80508052413473 + 57.068998944725266 + 63.80508052413473 + 63.80508052413473 ~= 248,483</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuraci_n_del_sistema">Configuración del sistema</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_tweetheat_mapa_de_calor_sobre_ficheros_tsv_de_puntuaci_n">Appendix D: TweetHeat, mapa de calor sobre ficheros TSV de puntuación</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_entrenamiento_del_modelo_de_an_lisis_de_datos">Appendix E: Entrenamiento del modelo de análisis de datos.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Un objetivo muy importante del proyecto es obtener la habilidad de automatizar el sistema de inferir la localización para poder trabajar sobre datos que no tengan una etiqueta de geolocalización asociada. Para ello, es necesario recurrir a software especializado, denominado habitualmente como <strong>software de aprendizaje automático</strong>.</p>
</div>
<div class="paragraph">
<p>Vowpal Wabbit<span class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</span> es un proyecto creado originalmente por <em>Yahoo! Research</em> que fue posteriormente continuado por <em>Microsoft Research</em>, consistente en la creación de un nuevo algoritmo de aprendizaje automático rápido y escalable que permita trabajar con grandes cantidades de datos. A partir de una serie de información específicamente preparada para ser consumida por Vowpal Wabbit, este es capaz de crear un propio modelo de datos que sirva como base de entrenamiento para después, mediante la aplicación de diversos algoritmos, predecir un resultado en base al conocimiento adquirido en ejecuciones anteriores.</p>
</div>
<div class="paragraph">
<p>Además de la velocidad y precisión de los resultados que puede ofrecer Vowpal Wabbit, una de sus características más importantes es la capacidad de funcionar como un demonio del sistema e ir aprendiendo <em>en caliente</em> a través de nuevos modelos de datos. Esto, a diferencia de otros software de aprendizaje automático, permite que el sistema pueda adquirir un conocimiento incremental y ofrecer mejores resultados a medida que pasa el tiempo.</p>
</div>
<div class="sect2">
<h3 id="_normalizaci_n_de_datos">Normalización de datos</h3>
<div class="paragraph">
<p>Para aprovechar toda la potencia y velocidad que ofrece Vowpal Wabbit, el primer paso es crear ficheros de entrada que estén estructurados de acuerdo a un formato optimizado para el clasificador. En este caso, Vowpal Wabbit espera datos de entrada estructurados de la siguiente manera:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Label] [Importance [Tag]]|Namespace Features |Namespace Features ... |Namespace Features <b>(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><a href="https://github.com/JohnLangford/vowpal_wabbit/wiki/Input-format">https://github.com/JohnLangford/vowpal_wabbit/wiki/Input-format</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>En el presente proyecto, esta estructura generaría datos de la siguiente manera:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1 |Tweet @adrianzenb scl rainer wirth óscar amigos radio quillota
2 |Tweet @thomasuribe medellín colombia celebra día hombre
3 |Tweet @fvminajx @cursiperono mujer ruega punto</pre>
</div>
</div>
<div class="paragraph">
<p>Debido al dominio específico del problema de este proyecto, el sistema que debe realizar la traducción entre los ficheros de puntuación generados por el sistema Puma y los datos que espera recibir Vowpal Wabbit, debía de ser parametrizable para poder cubrir los siguientes dos casos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Entrenar un modelo de clasificación binario donde sólo se indicara si un tuit pertenece o no a un conjunto de coordenadas (útil para modelos que se quieran utilizar para saber si un tuit en español pertenece o no a España).</p>
</li>
<li>
<p>Entrenar un modelo de clasificación multiclase donde se agruparan las clases en torno a un número de decimales para la latitud y longitud. Esto permite que se pueden considerar de la misma clase todos los tuits cuyas coordenadas con 3 decimales sean las mismas, permitiendo obtener predicciones con un grado de precisión de 10 kilómetros (en caso de agrupar por 2 decimales, la precisión sería de 100 y con 1, de 1000 kilómetros).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Para ello, se creo un sistema que mediante una interfaz de línea de comandos pudiese ser parametrizable mediante los siguientes argumentos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vw-input-translator 1.0
Usage: vw-input-translator [options] &lt;file&gt;

  --inout &lt;value&gt;
        Creates an input file for binary classification
  -d &lt;value&gt; | --decimals &lt;value&gt;
        Creates an input file for multi-class classification. Each sample will have the selected number of decimals on latitude and longitude coordinates
  &lt;file&gt;
        Source file</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_divisi_n_de_datos_en_conjuntos_de_entrenamiento_y_test">División de datos en conjuntos de entrenamiento y test</h3>
<div class="paragraph">
<p>Con el objetivo de entrenar al clasificador, se desarrolló un script capaz de, a partir de los datos de entrada que recibiría Vowpal Wabbit, dividir el conjunto en dos para dedicar una parte al proceso de entrenamiento y otra a probar el modelo de datos generados.</p>
</div>
<div class="paragraph">
<p>Con el objetivo de generar dos conjuntos consistentes, la división se realizó en base a los usuarios, haciendo que un mismo usuario no pudiese formar parte de ambos grupos. Un 80% de los usuarios fue destinado al grupo de entrenamiento, mientras que el 20% restante fue a parar al conjunto de test.</p>
</div>
</div>
<div class="sect2">
<h3 id="_estudio_de_los_primeros_resultados_y_cambio_de_estrategia">Estudio de los primeros resultados y cambio de estrategia</h3>

</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Conjunto de nombres geográficos que, junto con un mapa, constituye una importante referencia sobre lugares y sus nombres
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. <a href="http://en.wikipedia.org/wiki/Decorator_pattern">http://en.wikipedia.org/wiki/Decorator_pattern</a>
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. <a href="http://hunch.net/~vw/">http://hunch.net/~vw/</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-05-11 17:46:20 CEST
</div>
</div>
</body>
</html>